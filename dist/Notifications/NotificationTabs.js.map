{"version":3,"file":"NotificationTabs.js","names":["React","useCallback","useEffect","useMemo","useDispatch","useSelector","Tab","Tabs","NotificationSections","fetchNotificationList","markNotificationsAsSeen","selectNotificationTabs","selectNotificationTabsCount","selectPaginationData","selectSelectedAppName","updateAppNameRequest","NotificationTabs","dispatch","selectedAppName","notificationUnseenCounts","notificationTabs","_useSelector","currentPage","appName","page","handleActiveTab","tabArray","map","createElement","key","eventKey","title","notification","tabClassName","concat","variant","defaultActiveKey","onSelect","className","memo"],"sources":["../../src/Notifications/NotificationTabs.jsx"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useCallback, useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Tab, Tabs } from '@edx/paragon';\nimport NotificationSections from './NotificationSections';\nimport { fetchNotificationList, markNotificationsAsSeen } from './data/thunks';\nimport {\n  selectNotificationTabs, selectNotificationTabsCount, selectPaginationData, selectSelectedAppName,\n} from './data/selectors';\nimport { updateAppNameRequest } from './data/slice';\n\nconst NotificationTabs = () => {\n  const dispatch = useDispatch();\n  const selectedAppName = useSelector(selectSelectedAppName());\n  const notificationUnseenCounts = useSelector(selectNotificationTabsCount());\n  const notificationTabs = useSelector(selectNotificationTabs());\n  const { currentPage } = useSelector(selectPaginationData());\n\n  useEffect(() => {\n    dispatch(fetchNotificationList({ appName: selectedAppName, page: currentPage }));\n    if (selectedAppName) { dispatch(markNotificationsAsSeen(selectedAppName)); }\n  }, [currentPage, selectedAppName]);\n\n  const handleActiveTab = useCallback((appName) => {\n    dispatch(updateAppNameRequest({ appName }));\n  }, []);\n\n  const tabArray = useMemo(() => notificationTabs?.map((appName) => (\n    <Tab\n      key={appName}\n      eventKey={appName}\n      title={appName}\n      notification={notificationUnseenCounts[appName]}\n      tabClassName=\"pt-0 pb-10px px-2.5 d-flex border-top-0 mb-0 align-items-center line-height-24 text-capitalize\"\n      data-testid={`notification-tab-${appName}`}\n    >\n      {appName === selectedAppName && (<NotificationSections />)}\n    </Tab>\n  )), [notificationUnseenCounts, selectedAppName, notificationTabs]);\n\n  return (\n    <Tabs\n      variant=\"tabs\"\n      defaultActiveKey={selectedAppName}\n      onSelect={handleActiveTab}\n      className=\"px-2.5 text-primary-500\"\n    >\n      {tabArray}\n    </Tabs>\n  );\n};\n\nexport default React.memo(NotificationTabs);\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,IAAIC,WAAW,EAAEC,SAAS,EAAEC,OAAO,QAAQ,OAAO;AAC9D,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,GAAG,EAAEC,IAAI,QAAQ,cAAc;AACxC,OAAOC,oBAAoB,MAAM,wBAAwB;AACzD,SAASC,qBAAqB,EAAEC,uBAAuB,QAAQ,eAAe;AAC9E,SACEC,sBAAsB,EAAEC,2BAA2B,EAAEC,oBAAoB,EAAEC,qBAAqB,QAC3F,kBAAkB;AACzB,SAASC,oBAAoB,QAAQ,cAAc;AAEnD,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA,EAAS;EAC7B,IAAMC,QAAQ,GAAGb,WAAW,CAAC,CAAC;EAC9B,IAAMc,eAAe,GAAGb,WAAW,CAACS,qBAAqB,CAAC,CAAC,CAAC;EAC5D,IAAMK,wBAAwB,GAAGd,WAAW,CAACO,2BAA2B,CAAC,CAAC,CAAC;EAC3E,IAAMQ,gBAAgB,GAAGf,WAAW,CAACM,sBAAsB,CAAC,CAAC,CAAC;EAC9D,IAAAU,YAAA,GAAwBhB,WAAW,CAACQ,oBAAoB,CAAC,CAAC,CAAC;IAAnDS,WAAW,GAAAD,YAAA,CAAXC,WAAW;EAEnBpB,SAAS,CAAC,YAAM;IACde,QAAQ,CAACR,qBAAqB,CAAC;MAAEc,OAAO,EAAEL,eAAe;MAAEM,IAAI,EAAEF;IAAY,CAAC,CAAC,CAAC;IAChF,IAAIJ,eAAe,EAAE;MAAED,QAAQ,CAACP,uBAAuB,CAACQ,eAAe,CAAC,CAAC;IAAE;EAC7E,CAAC,EAAE,CAACI,WAAW,EAAEJ,eAAe,CAAC,CAAC;EAElC,IAAMO,eAAe,GAAGxB,WAAW,CAAC,UAACsB,OAAO,EAAK;IAC/CN,QAAQ,CAACF,oBAAoB,CAAC;MAAEQ,OAAO,EAAPA;IAAQ,CAAC,CAAC,CAAC;EAC7C,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMG,QAAQ,GAAGvB,OAAO,CAAC;IAAA,OAAMiB,gBAAgB,aAAhBA,gBAAgB,uBAAhBA,gBAAgB,CAAEO,GAAG,CAAC,UAACJ,OAAO;MAAA,oBAC3DvB,KAAA,CAAA4B,aAAA,CAACtB,GAAG;QACFuB,GAAG,EAAEN,OAAQ;QACbO,QAAQ,EAAEP,OAAQ;QAClBQ,KAAK,EAAER,OAAQ;QACfS,YAAY,EAAEb,wBAAwB,CAACI,OAAO,CAAE;QAChDU,YAAY,EAAC,gGAAgG;QAC7G,mCAAAC,MAAA,CAAiCX,OAAO;MAAG,GAE1CA,OAAO,KAAKL,eAAe,iBAAKlB,KAAA,CAAA4B,aAAA,CAACpB,oBAAoB,MAAE,CACrD,CAAC;IAAA,CACP,CAAC;EAAA,GAAE,CAACW,wBAAwB,EAAED,eAAe,EAAEE,gBAAgB,CAAC,CAAC;EAElE,oBACEpB,KAAA,CAAA4B,aAAA,CAACrB,IAAI;IACH4B,OAAO,EAAC,MAAM;IACdC,gBAAgB,EAAElB,eAAgB;IAClCmB,QAAQ,EAAEZ,eAAgB;IAC1Ba,SAAS,EAAC;EAAyB,GAElCZ,QACG,CAAC;AAEX,CAAC;AAED,4BAAe1B,KAAK,CAACuC,IAAI,CAACvB,gBAAgB,CAAC"}