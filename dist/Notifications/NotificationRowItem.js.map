{"version":3,"file":"NotificationRowItem.js","names":["React","useCallback","useDispatch","useIntl","PropTypes","Icon","Link","timeago","getIconByType","markNotificationsAsRead","messages","timeLocale","NotificationRowItem","_ref","id","type","contentUrl","content","courseName","createdAt","lastRead","register","intl","dispatch","handleMarkAsRead","_getIconByType","iconComponent","icon","iconClass","createElement","target","className","to","onClick","concat","src","dangerouslySetInnerHTML","__html","formatMessage","fullStop","format","propTypes","string","isRequired","node","memo"],"sources":["../../src/Notifications/NotificationRowItem.jsx"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useIntl } from '@edx/frontend-platform/i18n';\nimport PropTypes from 'prop-types';\nimport { Icon } from '@edx/paragon';\nimport { Link } from 'react-router-dom';\nimport * as timeago from 'timeago.js';\nimport { getIconByType } from './utils';\nimport { markNotificationsAsRead } from './data/thunks';\nimport messages from './messages';\nimport timeLocale from '../common/time-locale';\n\nconst NotificationRowItem = ({\n  id, type, contentUrl, content, courseName, createdAt, lastRead,\n}) => {\n  timeago.register('time-locale', timeLocale);\n  const intl = useIntl();\n  const dispatch = useDispatch();\n\n  const handleMarkAsRead = useCallback(() => {\n    dispatch(markNotificationsAsRead(id));\n  }, [dispatch, id]);\n\n  const { icon: iconComponent, class: iconClass } = getIconByType(type);\n\n  return (\n    <Link\n      target=\"_blank\"\n      className=\"d-flex mb-2 align-items-center text-decoration-none\"\n      to={contentUrl}\n      onClick={handleMarkAsRead}\n      data-testid={`notification-${id}`}\n    >\n      <Icon\n        src={iconComponent}\n        className={`${iconClass} mr-4 notification-icon`}\n        data-testid={`notification-icon-${id}`}\n      />\n      <div className=\"d-flex w-100\" data-testid=\"notification-contents\">\n        <div className=\"d-flex align-items-center w-100\">\n          <div className=\"py-10px w-100 px-0 cursor-pointer\">\n            <span\n              className=\"line-height-24 text-gray-700 mb-2 notification-item-content overflow-hidden content\"\n              // eslint-disable-next-line react/no-danger\n              dangerouslySetInnerHTML={{ __html: content }}\n              data-testid={`notification-content-${id}`}\n            />\n            <div className=\"py-0 d-flex\">\n              <span className=\"font-size-12 text-gray-500 line-height-20\">\n                <span data-testid={`notification-course-${id}`}>{courseName}\n                </span>\n                <span className=\"text-light-700 px-1.5\">{intl.formatMessage(messages.fullStop)}</span>\n                <span data-testid={`notification-created-date-${id}`}> {timeago.format(createdAt, 'time-locale')}\n                </span>\n              </span>\n            </div>\n          </div>\n          {!lastRead && (\n            <div className=\"d-flex py-1.5 px-1.5 ml-2 cursor-pointer\">\n              <span className=\"bg-brand-500 rounded unread\" data-testid={`unread-notification-${id}`} />\n            </div>\n          )}\n        </div>\n      </div>\n    </Link>\n  );\n};\n\nNotificationRowItem.propTypes = {\n  id: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  contentUrl: PropTypes.string.isRequired,\n  content: PropTypes.node.isRequired,\n  courseName: PropTypes.string.isRequired,\n  createdAt: PropTypes.string.isRequired,\n  lastRead: PropTypes.string.isRequired,\n};\n\nexport default React.memo(NotificationRowItem);\n"],"mappings":"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"}