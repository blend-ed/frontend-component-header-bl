{"version":3,"file":"AuthenticatedUserDropdown.js","names":["React","useEffect","PropTypes","FontAwesomeIcon","faUserCircle","getConfig","injectIntl","intlShape","Dropdown","useSelector","useDispatch","Notifications","selectShowNotificationTray","selectNotificationStatus","fetchAppsNotificationCount","RequestStatus","messages","AuthenticatedUserDropdown","_ref","intl","username","showNotificationsTray","notificationStatus","dispatch","IDLE","dashboardMenuItem","createElement","Item","href","concat","LMS_BASE_URL","formatMessage","dashboard","Fragment","className","SUPPORT_URL","help","Toggle","variant","icon","size","Menu","ACCOUNT_PROFILE_URL","profile","ACCOUNT_SETTINGS_URL","account","ORDER_HISTORY_URL","orderHistory","LOGOUT_URL","signOut","propTypes","isRequired","string"],"sources":["../../src/learning-header/AuthenticatedUserDropdown.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUserCircle } from '@fortawesome/free-solid-svg-icons';\nimport { getConfig } from '@edx/frontend-platform';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { Dropdown } from '@edx/paragon';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Notifications from '../Notifications';\nimport { selectShowNotificationTray, selectNotificationStatus } from '../Notifications/data/selectors';\nimport { fetchAppsNotificationCount } from '../Notifications/data/thunks';\nimport { RequestStatus } from '../Notifications/data/slice';\n\nimport messages from './messages';\n\nconst AuthenticatedUserDropdown = ({ intl, username }) => {\n  const showNotificationsTray = useSelector(selectShowNotificationTray());\n  const notificationStatus = useSelector(selectNotificationStatus());\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (notificationStatus === RequestStatus.IDLE) {\n      dispatch(fetchAppsNotificationCount());\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const dashboardMenuItem = (\n    <Dropdown.Item href={`${getConfig().LMS_BASE_URL}/dashboard`}>\n      {intl.formatMessage(messages.dashboard)}\n    </Dropdown.Item>\n  );\n\n  return (\n    <>\n      <a className=\"text-gray-700\" href={`${getConfig().SUPPORT_URL}`}>{intl.formatMessage(messages.help)}</a>\n      {showNotificationsTray && <Notifications />}\n      <Dropdown className=\"user-dropdown ml-3\">\n        <Dropdown.Toggle variant=\"outline-primary\">\n          <FontAwesomeIcon icon={faUserCircle} className=\"d-md-none\" size=\"lg\" />\n          <span data-hj-suppress className=\"d-none d-md-inline\">\n            {username}\n          </span>\n        </Dropdown.Toggle>\n        <Dropdown.Menu className=\"dropdown-menu-right\">\n          {dashboardMenuItem}\n          <Dropdown.Item href={`${getConfig().ACCOUNT_PROFILE_URL}/u/${username}`}>\n            {intl.formatMessage(messages.profile)}\n          </Dropdown.Item>\n          <Dropdown.Item href={getConfig().ACCOUNT_SETTINGS_URL}>\n            {intl.formatMessage(messages.account)}\n          </Dropdown.Item>\n          { getConfig().ORDER_HISTORY_URL && (\n            <Dropdown.Item href={getConfig().ORDER_HISTORY_URL}>\n              {intl.formatMessage(messages.orderHistory)}\n            </Dropdown.Item>\n          )}\n          <Dropdown.Item href={getConfig().LOGOUT_URL}>\n            {intl.formatMessage(messages.signOut)}\n          </Dropdown.Item>\n        </Dropdown.Menu>\n      </Dropdown>\n    </>\n  );\n};\n\nAuthenticatedUserDropdown.propTypes = {\n  intl: intlShape.isRequired,\n  username: PropTypes.string.isRequired,\n};\n\nexport default injectIntl(AuthenticatedUserDropdown);\n"],"mappings":"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"}